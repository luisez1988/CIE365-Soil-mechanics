<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	
		<title>CIE-365: Consolidation</title>
	
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black_bears.css" id="theme">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
		<link rel="stylesheet" href="plugin/chalkboard/style.css">
		<link rel="stylesheet" href="plugin/customcontrols/style.css">
		<script type="text/javascript" src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
		<script type="text/javascript" src="https://flashphoner.com/downloads/builds/flashphoner_client/wcs_api-2.0/current/flashphoner.js"></script> 
		<script type="text/javascript" src="./plugin/screen_sharing/screen-sharing-min.js"></script>
		<!-- Shares the screen -->
	
	</head>
	  <body onload="init_api()">
	
		<div class="reveal">
	
		  <div class="slides">
					<style>
					.container{
							display: flex;
					}
					.col{
							flex: 1;
					}
	
					</style>
	
					<div class='footer'>
						CIE-365
						Spring 2023
					</div>
	
					<style>
					.reveal .slides section .fragment.fade-down {
							opacity: 1;
							visibility: visible;
					}
					.reveal .slides section .fragment.fade-down.visible,
					.reveal .slides section .fragment.visible:not(.current-fragment) {
							opacity: 1;
							margin-top:0px;
						}
					.reveal .slides section .fragment.fade-down,
					.reveal .slides section .fragment.current-fragment {
							color: #000;
							margin-top:0px;
					}
	
	
				</style>
	
				<style >
	
				.circle {
			width: 80px;
			line-height: 80px;
			border-radius: 50%;
			text-align: center;
			font-size: 32px;
			border: 10px solid #296B64;
		  }
		</style>
				<!-- <section> -->
			<section data-background-image="FiguresGeneral/Main_slide_Maine.svg">

				<div style="margin-top:300px;margin-left:0px" class="qrCode_cont" name="Get pdf">
					<div class="qrCode" name="https://drive.google.com/file/d/1T9BiIpPC_angN2mfl7bmZ7QbXpa60kqr/view?usp=sharing"> </div>
				</div>
	
				<div style="margin-top:-350px;margin-left: 600px;margin-right:0px" class="title_slide" name="Module 5: Rate of consolidation">
					<p style="color:#faffff; font-size:35px">Luis Zambrano-Cruzatty, Ph.D.</p>
					<p style="color:#faffff; font-size:35px">Spring 2023</p>
					<!-- <p style="color:#faffff; font-size:35px"> February 8, 2023</p> -->
					<span id="spanDate_text" style="color:#faffff; font-size:35px"></span>
				</div>
			</section>
				<section  data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
				    <h1>Recap</h1>
						<ul>
							<li class="fragment"> We learned how to calculate the coefficients of compressibility and recompression of fine grained soils.</li>
							<li class="fragment"> We learned how to calculate the overconsolidation ratio (\(OCR\)). </li>
							<li class="fragment"> We learned about the relationship between the \(OCR\) and the stress history of soils.</li>							
							<li class="fragment">  We learned how to calculate primary consolidation settlements in normally and overconsolidated soils.</li>							
						</ul>
				</section>

        <section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
					<h1>Contents</h1>
					<div class='container'>
					<div class='col'>
						<ul class="contentStyle" style="margin-top: -45px;">
							<li class="l1">Rate of consolidation.</li>
							<li class="l1">The coefficient of consolidation</li>
							<li class="l1">Degree of consolidation</li>
							<li class="l1">Secondary consolidation</li>
							<li class="l1">Preloading and vertical drains</li>							
						</ul>	
					</div>
					<div class='col'>
						<div class='container'>
							<div class='col'>
								<div class="stickynote" style="margin-top: 100px;margin-left: 75px;">
									<p style="margin-top: -10px;"> Objectives covered in this lecture</p>
									<ul>
										<li>[O3]: Develop an understanding of how to evaluate the stiffness/compressibility of soils and the role of seepage and permeability on time-dependent consolidation/settlement.</li>
									</ul>
								</div>
							</div>
							<div class='col'>
							<div class='stickynote' style='margin-top: 100px;margin-left: 75px;'>
								<p style="margin-top: -20px;">After this lecture we will able to:</p>
								<ul style="margin-top: -15px;">
									<li>Estimate the end of primary consolidation.</li>					
									<li>Calculate the coefficient of consolidation of soils.</li>
									<li>Calculate the time-dependent settlement and degree of consolidation.</li>
								</ul>
							</div>
							</div>
							</div>
					</div>
					</div>
			

        </section>

<!--
 #####  ####### #     # ####### ####### #     # #######  #####
#     # #     # ##    #    #    #       ##    #    #    #     #
#       #     # # #   #    #    #       # #   #    #    #
#       #     # #  #  #    #    #####   #  #  #    #     #####
#       #     # #   # #    #    #       #   # #    #          #
#     # #     # #    ##    #    #       #    ##    #    #     #
 #####  ####### #     #    #    ####### #     #    #     #####
-->

	<section >
		<iframe class="stretch" src="https://www.youtube.com/embed/c3yY79L1JHc?autoplay=0" data-preload></iframe>
	</section>


<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Time rate of primary consolidation</h1>
 <figure>
   <img src="FiguresGeneral/Consol_curve.svg" style="width:100%" data-preload/>
   <footer style="margin-top:-60px;"><small></small></footer>
 </figure>
</section>

<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<h1>Example 5.6</h1>
<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
Use mass-balance principles to relate the water flow in a soil control volume with its compressibility.
</div>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Terzaghi's Consolidation Theory</h1>
	<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
	The result of balancing the <span class='atb'>mass of water</span> and its volume with the <span class='atb'>compressibility of the soil skeleton</span> produces the 1D <span class='atb'>Terzaghi's consolidation theory</span>.
	</div>
	<div class="container">
		<div class="col">
			<div class='equationBox'>
			\(\cfrac{\partial u}{\partial t}= C_v \cfrac{\partial ^2 u}{\partial z^2}\)			</div>
			<div class='equationBox' style="margin-top: 10px;">
			\(C_v= \cfrac{k}{\gamma_w m_v}\)			</div>
		</div>
		<div class="col">
			<ul style="font-size: 0.9em;">
				<li>\(u=\) Excess pore water pressure</li>
				<li>\(t=\) time</li>
				<li>\(z=\) Direction of flow</li>
				<li>\(C_v=\) <strong style="color:#7abbe6">Coefficient of consolidation</strong>					
				</li>
				<li>\(m_v=\) Coefficient of volume change</li>

			</ul>
		</div>
	</div>
</section>

<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<h1>Drainage length</h1>
<div class='defBox' name='Drainage length' style='margin-top: 0px;margin-left: 0px;'>
<strong style='color:green'>\(H_{dr}\):</strong> Is the length of the shortest path that a water particle will travel to reach a drainage boundary condition.
</div>
<figure>
	<img src="FiguresGeneral/hdr.svg" style="width:100%" data-preload/>
	<footer style="margin-top:-60px;"><small></small></footer>
  </figure>
</section>
<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<h1>Normalized time and depth</h1>
<div class='defBox' name='Normalized time' style='margin-top: 0px;margin-left: 0px;'>
<strong style='color:green'>\(T_v\):</strong> Is a dimensionless parameter that maps the time, coefficient of consolidation, and drainage length.
<div class='equationBox'>
\(T_v= \cfrac{C_v t}{H^2_{dr}}\)
</div>
</div>

<div class='defBox' name='Normalized depth' style='margin-top: 20px;margin-left: 0px;'>
<strong style='color:green'>\(Z\):</strong> Maps the depth of a compressible soil using the drainage length.

<div class='equationBox'>
\(Z=z/H_{dr}\)
</div>
</div>
</section>

<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<h1>Example 5.7</h1>
<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
Use the finite difference method to determine the change of the exes pore pressure with time for problem 5.2. Assume the top and bottom layers are permeable and that the initial pore pressure is hydrostatic. Plot the results in terms of normalized time and depth.
</div>
</section>

<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<iframe src='https://luisez1988.github.io/soilved/lab/index.html?kernel=python&toolbar=1' width='100%'  height='680px' ></iframe>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Terzaghi's Consolidation Theory</h1>
<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
It is possible to <span class='atb'>analytically</span> solve the Terzaghi's 1D consolidation theory. The following assumptions are considered:
<ul>
	<li> The soil has uniform compressibility.</li>
	<li> The initial pore pressure distribution is uniform.</li>	
</ul>
</div>

<div class='equationBox' style="margin-top: 15px; font-size: 0.9em;">
$$\Delta u(z,t)=\Delta \sigma \sum_{n=0}^{\infty} \cfrac{4}{(2n+1)\pi}\exp \left[- \cfrac{(2n+1)^2 \pi^2 }{4}T_v\right] \sin \left[\cfrac{(2n+1)\pi}{2}Z\right]$$
</div>
</section>

<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<h1>Example 5.8</h1>
<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
Compare the analytical solution with the finite difference approximation. How many elements of the series are needed to obtain similar results?
<a href="#10">Go to Jupyter Notebook</a>
</div>
</section>



<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Excess pore pressure</h1>
	<figure>
	  <img src="FiguresGeneral/solution.svg" style="width:100%" data-preload/>
	  <footer style="margin-top:-60px;"><small></small></footer>
	</figure>
</section>


<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Total pore pressure</h1>
	<figure>
	  <img src="FiguresGeneral/withhydrostatic.svg" style="width:100%" data-preload/>
	  <footer style="margin-top:-60px;"><small></small></footer>
	</figure>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1>Degree of consolidation</h1>
	<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
	We have determined how the <span class='atb'>pore pressure</span> <strong style='color:green'>\(u\)</strong> changes with time but not the <strong style='color:#7abbe6'>settlement</strong>. Therefore, we need to introduce a smart mapping between the excess pore pressures and the settlements.
	</div>

	<div class="fragment">	<div class='defBox' name='Degree of consolidation' style='margin-top: 15px;margin-left: 0px;'>
		<strong style='color:green'>\(U\)[%]:</strong> It is a numerical value describing what percentage of the consolidation have occurred.
		<div class='equationBox'>
		\( U(t)=\cfrac{S(t)}{S_{pc}} \times 100 \)
		</div>
	</div></div>

	<ul>
		<li class='fragment'>\(t=0 \) \(\longrightarrow\) \(S=0\) \(\longrightarrow\) \(U=0\%\)</li>

		<li class='fragment'>\(t= \infty \) \(\longrightarrow\) \(S=S_{pc}\) \(\longrightarrow\) \(U=100\%\)</li>
	</ul>
</section>

<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<h1>Quiz 5.4</h1>
<p> The settlement due to primary consolidation of a clay layer is 15.6 ft. What would be the settlement at 50% of the consolidation process.</p>

<ol class='iClicker' >
<li class='l2'>0 ft</li>
<li class='l2'>15.6 ft</li>
<li class='l2'>7 ft</li>
<li class='l2'>7.8 ft</li>
<li class='l2'>8 ft</li>
</ol>
</section>

<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
Now we need to link the excess pore pressure to the degree consolidation.
</div>

<p class="fragment"> \( \cfrac{\Delta u (t,z)}{\Delta u_0} \)</p>
<p class="fragment"> \( U_z(t,z)= 1-\cfrac{\Delta u (t,z)}{\Delta u_0} \)</p>
<p class="fragment"> \( U(t)= \int_{Z=0}^{Z=1} U_z(t, z) dZ=\int_{Z=0}^{Z=1} 1-\cfrac{\Delta u (t,z)}{\Delta u_0} \) </p>
<div class="fragment"><div class='equationBox'>
	$$U(t)= 1- \sum_{n=0}^{\infty} \cfrac{8}{\pi^2 (2n+1)^2} \exp \left[- \cfrac{(2n+1)^2 \pi^2 }{4}T_v\right]$$
</div></div>

</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Terzaghi's Consolidation Theory</h1>
	<figure>
	  <img src="FiguresGeneral/curves.svg" style="width:100%" data-preload/>
	  <footer style="margin-top:-60px;"><small></small></footer>
	</figure>

</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1>Solution approximation</h1>
<p style="margin-top:0px;">Approximations exist for the analytical solution:

</p>
<p><div class='equationBox'>
	\(T_v=\cfrac{\pi}{4}(U/100)^2\) for \(U < 60\% \)
</div>
	</p>
<p style="margin-top:0px;">
	<div class='equationBox'>
		\(T_v=1.781-0.933 \log(100-U)\) for \(U \geq 60\%\)
	</div></p>
<p> <div class='equationBox'>
	\(U=\cfrac{2 \sqrt{T_v}}{\sqrt{\pi}}\) for \(T_v \leq 0.2\)
</div></p>
<p> <div class='equationBox'>
	\(U=1-\frac{8}{\pi^2}\exp(-\pi ^2 T_v /4)\) for \(T_v>0.2\)
</div></p>
</section>

<section data-background-image='FiguresGeneral/Normal_slide_Maine.svg'>
<h1>Example 5.9</h1>
<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
Calculate the value of \(T_v\) for degrees of consolidation equal to 50%, 90%, and 95% using:
<p><ol>
	<li> The analytical equation</li>
	<li> The solution's curve</li>
	<li> The approximate solution</li>
</ol></p>

<a href="#10">Go to Jupyter Notebook</a>
</div>

</section>

<section  data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
    <h1>Determining \(C_v\)</h1>
		<div class="container">
			<div class="col">
				<p>Log t method</p>
				<figure>
				  <img src="FiguresGeneral/rate_consol.svg" style="width:100%" data-preload/>
				  <footer style="margin-top:-60px;"><small></small></footer>
				</figure>
			</div>
			<div class="col">
          <ol style="margin-top:0px;font-size:28px">
          	<li>Plot consolidation curve from experimental data</li>
						<li>Determine settlement at end of primary (EOP) \(\delta_{100}\) by intersecting tangents to primary and secondary compression lines.</li>
						<li>Designate \(t_1\) in "early" point of the curve, and identify its correspondent settlement as \(\delta_1\)</li>
						<li>Designate a second point at \(4t_1\) and identify settlement \(\delta_2\)</li>
						<li>Determine initial settlement \(\delta_0\) by taking \(\delta_1 - \delta_0= \delta_2 - \delta_1\)</li>
						<li>Determine the mid-point settlement between \(\delta_0\) and \(\delta_{100}\), designated as \(\delta_{50}\)</li>
						<li>Determine the corresponding time \(t_{50}\)</li>
						<li>Use Terzaghi's consolidation theory to compute \(C_v\)</li>
          </ol>
			</div>
		</div>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1>Example 5.6</h1>
	<div class='textBox' style='margin-top: 0px;margin-left: 0px;'>
		<p>Find the coefficient of consolidation for the test result shown in the figure below</p>
	</div>

<figure style="margin-top:-30px;">
  <img src="example.svg" style="width:60%" data-preload/>
  <footer style="margin-top:-60px;"><small></small></footer>
</figure>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Time rate of primary consolidation</h1>
	<p style="margin-top:-15px;">Steps to calculate settlement due to P.C. with time:</p>
	<ol style="margin-top:0px;font-size:33px">
		<li>For a given time \(t\), calculate the corresponding dimensionless time \(T_v\):
			$$T_v=\frac{C_v t}{H_{dr}^2}$$
		</li>
		<li>Use any of i) the anlytical solution, ii) approximate solutions, iii) tabulated values and obtain the corresponding degree of consolidation \(U(t)\)</li>
		<li>Determine the final settlement from primary consolidation \(S_{pc}\)</li>
		<li>Apply the definition of degree of consolidation and determine the settlement at time \(t\)
$$U(t)=\frac{S(t)}{S_{pc}}$$
		</li>
	</ol>

</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1>Example 5.7</h1>
	<p>For problem 5.2. Determine the time required to obtain 95% degree of consolidaiton if the clay's coefficient of consolidation is \(C_v=15\) m\(^2\)/yr (Boston's blue clay) or \(C_v=0.4\) m\(^2\)/yr (Mexico City clay). In both cases plot settlement vs. time.</p>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1>Secondary consolidation</h1>
 <ul style="margin-top:-20px;font-size:35px">
 	<li><strong style="color:#7abbe6">Secondary consolidation (SC)</strong> is the settlement that occurs after all pore pressure is dissipated and effective stress is constant. This is also known as <strong style="color:#7abbe6">creep</strong>.</li>
	<li>Is a time dependent slippage between grains, breaking, bending,..</li>
	<li>Occurs in all type of soils, specially in peats, organic clay, and sensitive clay.</li>
 </ul>
 <figure>
   <img src="FiguresGeneral/secondary_consol.svg" style="margin-top:-10px;width:80%" data-preload/>
   <footer style="margin-top:-60px;"><small></small></footer>
 </figure>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Consolidation due to radial flow</h1>
	<figure>
	  <img src="FiguresGeneral/radial_consolidation.svg" style="width:100%" data-preload/>
	  <footer style="margin-top:-60px;"><small></small></footer>
	</figure>

	<div class="container">
		<div class="col">

		</div>
		<div class="col">
	                <p style="margin-top:-60px;">\(\cfrac{\partial u}{\partial t}= C_v \cfrac{\partial^2 u}{\partial z^2}+ C_{vr}\left[\cfrac{\partial ^2 u}{\partial z^2}+ \cfrac{1}{r} \cfrac{\partial u}{\partial r}\right]\)</p>
		</div>
	</div>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<section data-fullscreen>
		<iframe class="stretch" src="https://www.youtube.com/embed/eTGa0fG9HWY?autoplay=0" data-preload></iframe>
	</section>

</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<h1 style="margin-top:0px;font-size:55px">Case history: Kansai International Airport</h1>
<div class="container">
	<div class="col">
            <figure>
              <img src="https://www.researchgate.net/profile/Jian-Chu-5/publication/258311283/figure/fig46/AS:645337597349888@1530871881269/Kansai-International-airport-Phase-2-in-front-and-Phase-1-in-the-back.png" style="width:100%" data-preload/>
              <footer style="margin-top:-60px;"><small></small></footer>
            </figure>
	</div>
	<div class="col">
 <figure>
   <img src="https://ascelibrary.org/cms/asset/08c0b3ea-af2e-415f-b298-102ba04e0a4a/figure2-1.gif" style="width:70%" data-preload/>
   <footer style="margin-top:-60px;"><small></small></footer>
 </figure>
	</div>
</div>
</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	<figure>
	  <img src="https://ascelibrary.org/cms/asset/381183d9-851f-4a7d-b30d-8c79d08f61d2/figure15.jpg" style="width:70%" data-preload/>
	  <footer style="margin-top:-60px;"><small></small></footer>
	</figure>

</section>

<section data-background-image="FiguresGeneral/Normal_slide_Maine.svg">
	  <object data="(ASCE)GT.1943-5606.0001224.pdf" style="width:100%; height:700px" data-preload/></object>

</section>


  <section data-background-image="FiguresGeneral/Main_slide_Maine.svg">

    </section>













  <!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX  SCRIIPTS XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-->
<script type="text/javascript">
	var months = ['January','February','March','April','May','June','July',
'August','September','October','November','December'];
   var today = new Date();
   today.setTime(today.getTime());
document.getElementById("spanDate_text").innerHTML = months[today.getMonth()] + " " + today.getDate()+ ", " + today.getFullYear();
</script>
<script type="text/javascript">
	var months = ['January','February','March','April','May','June','July',
'August','September','October','November','December'];
   var today = new Date();
   today.setTime(today.getTime());
document.getElementById("spanDate_number").innerHTML = today.getMonth() + "." + today.getDate()+ "." + today.getFullYear();
</script>
<script type="text/javascript">
		var months = ['January','February','March','April','May','June','July',
'August','September','October','November','December'];
	   var today = new Date();
	   today.setTime(today.getTime());
document.getElementById("spanDate_number").innerHTML = today.getMonth() + "." + today.getDate()+ "." + today.getFullYear();
</script>



<script src="dist/reveal.js"></script>
<script src="plugin/qrcode/qrcode.js"></script>
<script src="plugin/complete_box/complete_box.js"></script>
<script src="plugin/zoom/zoom.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/search/search.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script src="plugin/fullscreen/plugin.js"></script>
<script src="https://unpkg.com/reveal.js@^4//plugin/math/math.js"></script>
<script src="plugin/chalkboard/plugin.js"></script>
<!-- <script src="plugin/audio-slideshow/plugin.js"></script>
<script src="plugin/audio-slideshow/RecordRTC.js"></script>
<script src="plugin/audio-slideshow/recorder.js"></script> -->
<script src="plugin/menu/menu.js"></script>
<script src="plugin/customcontrols/plugin.js"></script>
<script>

Reveal.configure({ pdfMaxPagesPerSlide: 1 ,
								   pdfSeparateFragments: false});
// Also available as an ES module, see:
// https://revealjs.com/initialization/
Reveal.initialize({
   dependencies: [
	   { src: 'plugin/mouse-pointer/mouse-pointer.js' } , { src: 'plugin/spotlight/spotlight.js' },   ],
   controls: true,
   progress: true,
   center: false,
   hash: true,
   transition: 'fade',
   slideNumber: 'c/t',
   autoPlayMedia: true,
   width: 1280,
   height: 720,
   math: {
	   mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
	   config: 'TeX-AMS_HTML-full',
	   tex2jax: {
		   inlineMath: [['\\(','\\)']],
		   displayMath: [['\\[','\\]']],
		   balanceBraces: true,
		   processEscapes: false,
		   processRefs: true,
		   processEnvironments: true,
		   preview: 'TeX',
		   skipTags: ['script','noscript','style','textarea','pre','code'],
		   ignoreClass: 'tex2jax_ignore',
		   processClass: 'tex2jax_process'
	   },
   },

   spotlight: {

		   // size of the spotlight
		   size: 100,

		   // true: Locks the mouse pointer inside the presentation
		   // there is by design (Pointer Lock API) no spotlightCursor and presentingCursor
		   // displayed regardless of the configured values
		   lockPointerInsideCanvas: false,

		   // toggle spotlight by holding down the mouse key
		   toggleSpotlightOnMouseDown: false,

		   // the keyCode pressed and held to turn on spotlight, disabled when set to false
		   // Problems with this config? Maybe your touchpad is disabled on keypress?
		   spotlightOnKeyPressAndHold: true,

		   // choose the cursor when spotlight is on. Maybe "crosshair"?
		   spotlightCursor: 'default',

		   // choose the cursor when spotlight is off and in presentation mode. Maybe "default"?
		   presentingCursor: 'default',

		   // true: initially in presentation mode, will also be ture if this is not set and toggleSpotlightOnMouseDown is true
		   initialPresentationMode: true,

		   // true: disable selecting in presentation mode
		   disablingUserSelect: false,

		   // set to a number as transition duration in ms to enable fade in and out, disabled when set to false
		   fadeInAndOut: 100,

		   // enable pointer mode
		   useAsPointer: false,

		   // pointer color (If pointer mode enabled)
		   pointerColor: 'red'
   },

   keyboard: {
		   // alternative to toggleSpotlightOnMouseDown:
		   // toggle spotlight by pressing key 'c'
		   32: function() { RevealSpotlight.toggleSpotlight() },

		   // enter/leave presentation mode by pressing key 'p'
		   80: function() {
			   RevealSpotlight.togglePresentationMode();
		   },
   },

   // Push each slide change to the browser history
   history: true,

   menu: { // Menu works best with font-awesome installed: sudo apt-get install fonts-font-awesome
	   themes: false,
	   transitions: false,
	   markers: true,
	   hideMissingTitles: true,
	   custom: [
						   { title: 'Plugins', icon: '<i class="fa fa-external-link-alt"></i>', src: 'toc.html' },
						   { title: 'About', icon: '<i class="fa fa-info"></i>', src: 'about.html' }
				   ]
   },
//
// 			audio: {
// 					prefix: 'chalkboard/',
// 					suffix: '.ogg',
// 					defaultDuration: 5,
// //					textToSpeechURL: "http://api.voicerss.org/?key=[YOUR_KEY]&hl=en-gb&c=ogg&src=",
// 					advance: 500,
// 					autoplay: false,
// 					defaultText: true,
// 					playerOpacity: 0.2,
// 				},
   // ...
   chalkboard: {
				   boardmarkerWidth: 3,
				   chalkWidth: 5,
				   chalkEffect: 0.05,
				   src: "chalkboard.json",
				   // storage: ,
				   readOnly: false,
				   transition: 800,
				   theme: "chalkboard",
				   background: [ 'rgba(127,127,127,.1)' , path + 'img/blackboard.png' ],
				   grid: { color: 'rgb(50,50,10,0.5)', distance: 40, width: 2},
				   eraser: { src: path + 'img/sponge.png', radius: 20},
				   boardmarkers : [
								   { color: 'rgba(0,0,0,1)', cursor: 'url(' + path + 'img/boardmarker-black.png), auto'},
								   { color: 'rgba(30,144,255, 1)', cursor: 'url(' + path + 'img/boardmarker-blue.png), auto'},
								   { color: 'rgba(220,20,60,1)', cursor: 'url(' + path + 'img/boardmarker-red.png), auto'},
								   { color: 'rgba(50,205,50,1)', cursor: 'url(' + path + 'img/boardmarker-green.png), auto'},
								   { color: 'rgba(255,140,0,1)', cursor: 'url(' + path + 'img/boardmarker-orange.png), auto'},
								   { color: 'rgba(150,0,20150,1)', cursor: 'url(' + path + 'img/boardmarker-purple.png), auto'},
								   { color: 'rgba(255,220,0,1)', cursor: 'url(' + path + 'img/boardmarker-yellow.png), auto'}
				   ],
				   chalks: [
								   { color: 'rgba(255,255,255,0.5)', cursor: 'url(' + path + 'img/chalk-white.png), auto'},
								   { color: 'rgba(96, 154, 244, 0.5)', cursor: 'url(' + path + 'img/chalk-blue.png), auto'},
								   { color: 'rgba(237, 20, 28, 0.5)', cursor: 'url(' + path + 'img/chalk-red.png), auto'},
								   { color: 'rgba(20, 237, 28, 0.5)', cursor: 'url(' + path + 'img/chalk-green.png), auto'},
								   { color: 'rgba(220, 133, 41, 0.5)', cursor: 'url(' + path + 'img/chalk-orange.png), auto'},
								   { color: 'rgba(220,0,220,0.5)', cursor: 'url(' + path + 'img/chalk-purple.png), auto'},
								   { color: 'rgba(255,220,0,0.5)', cursor: 'url(' + path + 'img/chalk-yellow.png), auto'}
				   ]
		   },
		   customcontrols: {
			   controls: [
				   { icon: '<i class="fa fa-pen-square"></i>',
					   title: 'Toggle chalkboard (B)',
					   action: 'RevealChalkboard.toggleChalkboard();'
				   },
				   { icon: '<i class="fa fa-pen"></i>',
					   title: 'Toggle notes canvas (C)',
					   action: 'RevealChalkboard.toggleNotesCanvas();'
				   }
			   ]
		   },

	   // ...
   //XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
   // Learn about plugins: https://revealjs.com/plugins/
   plugins: [ RevealCustomControls, RevealMath,RevealFullscreen, RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight, RevealChalkboard, RevealMenu
					   ],
						   // RevealAudioSlideshow, RevealAudioRecorder, RevealMenu, RevealCustomControls],
	   });

</script>

</html>
